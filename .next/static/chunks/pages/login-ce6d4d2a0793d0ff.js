(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{403:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5030).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1856:(e,t,s)=>{e.exports=s(9359)},1883:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(4807)}])},3365:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5030).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3757:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5030).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4251:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5030).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},4807:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5640),r=s(148),n=s(1856),l=s(7473),i=s(5217),o=s(3365),c=s(4251),d=s(403),u=s(3757);function m(){let[e,t]=(0,r.useState)({username:"",password:""}),[s,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),[p,y]=(0,r.useState)(""),[f,g]=(0,r.useState)("user"),b=(0,n.useRouter)(),v=s=>{t({...e,[s.target.name]:s.target.value}),y("")},N=async t=>{t.preventDefault(),h(!0),y("");try{let t=await fetch("admin"===f?"/api/auth/admin-login":"/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();t.ok?(localStorage.setItem("token",s.access_token),localStorage.setItem("user",JSON.stringify(s.user)),"admin"===s.user.role?b.push("/admin/dashboard"):b.push("/dashboard")):y(s.error||"Error al iniciar sesi\xf3n")}catch(e){y("Error de conexi\xf3n. Intenta nuevamente.")}finally{h(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l,{href:"/",className:"text-2xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:"ProfesoresApp"}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Iniciar Sesi\xf3n"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Accede a tu cuenta para gestionar informaci\xf3n acad\xe9mica"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>g("user"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ".concat("user"===f?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Usuario"}),(0,a.jsx)("button",{type:"button",onClick:()=>g("admin"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ".concat("admin"===f?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Administrador"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:N,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(i.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:e.username,onChange:v,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ingresa tu usuario"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrase\xf1a"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:e.password,onChange:v,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ingresa tu contrase\xf1a"}),(0,a.jsx)("button",{type:"button",onClick:()=>m(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?(0,a.jsx)(c.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,a.jsx)(d.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),p&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[(0,a.jsx)(u.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-sm",children:p})]}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105",children:x?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Iniciando sesi\xf3n..."]}):"Iniciar Sesi\xf3n como ".concat("admin"===f?"Administrador":"Usuario")}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["\xbfNo tienes una cuenta?"," ",(0,a.jsx)(l,{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Reg\xedstrate aqu\xed"})]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(l,{href:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"â† Volver al inicio"})})]})]})})}},5217:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5030).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{e.O(0,[662,636,593,792],()=>e(e.s=1883)),_N_E=e.O()}]);