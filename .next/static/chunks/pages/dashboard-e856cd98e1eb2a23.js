(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{1607:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(5030).A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},1856:(e,s,a)=>{e.exports=a(9359)},2469:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(5030).A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3198:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var r=a(5640),t=a(148),l=a(1856),c=a(2469),i=a(3757),n=a(5217),d=a(5030);let m=(0,d.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),o=(0,d.A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),x=(0,d.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var h=a(1607);let p=(0,d.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function u(){let[e,s]=(0,t.useState)(null),[a,d]=(0,t.useState)(null),[u,j]=(0,t.useState)(!0),[g,N]=(0,t.useState)(""),f=(0,l.useRouter)();(0,t.useEffect)(()=>{let e=async e=>{try{let s=await fetch("/api/mi-info",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();d(e)}else if(401===s.status)localStorage.removeItem("token"),localStorage.removeItem("user"),f.push("/login");else{let e=await s.json();N(e.error||"Error al cargar informaci\xf3n")}}catch(e){N("Error de conexi\xf3n")}finally{j(!1)}},a=localStorage.getItem("token"),r=localStorage.getItem("user");if(!a||!r)return void f.push("/login");let t=JSON.parse(r);if("user"!==t.role)return void f.push("/login");s(t),e(a)},[f]);let y=e=>e?new Date(e).toLocaleDateString("es-ES"):"No especificado";return u?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Cargando informaci\xf3n..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ProfesoresApp"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-gray-700",children:["Bienvenido, ",null==e?void 0:e.username]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),f.push("/")},className:"flex items-center text-gray-600 hover:text-red-600 transition-colors",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-1"}),"Cerrar Sesi\xf3n"]})]})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g&&(0,r.jsxs)("div",{className:"mb-6 flex items-center space-x-2 text-red-600 bg-red-50 p-4 rounded-lg",children:[(0,r.jsx)(i.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:g})]}),a?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-8",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-white rounded-full p-3 mr-4",children:(0,r.jsx)(n.A,{className:"w-8 h-8 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:a.nombre_completo}),(0,r.jsxs)("p",{className:"text-blue-100",children:[a.categoria," - ",a.grado_academico]})]})]})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Informaci\xf3n Personal"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"G\xe9nero"}),(0,r.jsx)("p",{className:"font-medium",children:a.genero})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Correo Electr\xf3nico"}),(0,r.jsx)("p",{className:"font-medium",children:a.correo})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Tel\xe9fono Casa"}),(0,r.jsx)("p",{className:"font-medium",children:a.tel_casa||"No especificado"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Celular"}),(0,r.jsx)("p",{className:"font-medium",children:a.celular||"No especificado"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(x,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Direcci\xf3n"}),(0,r.jsx)("p",{className:"font-medium",children:a.direccion||"No especificada"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Informaci\xf3n Acad\xe9mica"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Grado Acad\xe9mico"}),(0,r.jsx)("p",{className:"font-medium",children:a.grado_academico})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Categor\xeda"}),(0,r.jsx)("p",{className:"font-medium",children:a.categoria})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(p,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Antig\xfcedad en Carrera"}),(0,r.jsx)("p",{className:"font-medium",children:y(a.antig_carrera)})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(p,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Antig\xfcedad en UNAM"}),(0,r.jsx)("p",{className:"font-medium",children:y(a.antig_unam)})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4 md:col-span-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Informaci\xf3n Legal"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"RFC"}),(0,r.jsx)("p",{className:"font-medium font-mono",children:a.rfc})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"CURP"}),(0,r.jsx)("p",{className:"font-medium font-mono",children:a.curp})]})]})]})]})})]}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,r.jsx)(i.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Informaci\xf3n no disponible"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No se encontr\xf3 informaci\xf3n de profesor asociada a tu cuenta. Contacta al administrador para vincular tu perfil."})]})]})]})}},3757:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(5030).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4453:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(3198)}])},5030:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var r=a(148);let t=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},l=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,s)=>{let{color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:d="",children:m,iconNode:o,...x}=e;return(0,r.createElement)("svg",{ref:s,...c,width:t,height:t,stroke:a,strokeWidth:n?24*Number(i)/Number(t):i,className:l("lucide",d),...!m&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(x)&&{"aria-hidden":"true"},...x},[...o.map(e=>{let[s,a]=e;return(0,r.createElement)(s,a)}),...Array.isArray(m)?m:[m]])}),n=(e,s)=>{let a=(0,r.forwardRef)((a,c)=>{let{className:n,...d}=a;return(0,r.createElement)(i,{ref:c,iconNode:s,className:l("lucide-".concat(t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...d})});return a.displayName=t(e),a}},5217:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(5030).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{e.O(0,[636,593,792],()=>e(e.s=4453)),_N_E=e.O()}]);